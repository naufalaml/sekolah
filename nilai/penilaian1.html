<style>
    body {
        overflow-x: hidden;
    }

    .containerTabelBody {
        display: flex;
        flex-direction: column;
        gap: 2px;
    }

    .dataSiswa {
        background-color: #fff;
        width: 100%;
        height: 2.3rem;
        display: flex;
        /* justify-content: center; */
        align-items: center;
    }

    .noTbody {
        width: 3rem;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #fff;
        height: 100%;
    }

    .Tbody {
        width: 19rem;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        background-color: #fff;
    }

    .listNilai {
        background-color: #fff;
        width: 100%;
        height: 2.3rem;
        display: flex;
        justify-content: flex-end;
        align-items: center;
    }

    .formNilai {
        z-index: 100000;
        background-color: #14213e;
        color: #00c5cc;
        /* background-color: #fff;
    border-top: 10px solid #14213d;
    border-bottom: 10px solid #14213d;
    border-left: 2px solid #14213d;
    border-right: 2px solid #14213d;
    border-radius: 10px;
    box-shadow: 2px 2px 5px #14213d; */
    }

    .formNilai label,
    .form-control label {
        width: 25%;
    }

    .formNilai input,
    .formNilai select,
    .formNilai textarea,
    .formNilai select option {
        width: 70%;
        background-color: #ffffff10;
        color: #00c5cc;
        border: 2px solid #00c5cc;
        border-radius: 5px;
        appearance: none;
    }

    .formNilai select option {
        background-color: #14213d;
    }

    .formNilai option:checked {
        background-color: #00c5cc;
        color: #14213d;
    }

    .formNilai input::placeholder {
        color: #00c5cc;
    }

    .btn-tech {
        background-color: #ffffff10;
        color: #00c5cc;
        border: 2px solid #00c5cc;
    }

    .btn-tech:hover {
        background-color: #00c5cc;
        color: #14213d;
    }

    .title-form {
        font-size: 40px;
        font-weight: 700;
        text-align: center;
        text-shadow: 0px 0px 10px #00c5cc,
            0px 0px 20px #00c5cc,
            0px 0px 40px #00c5cc,
            0px 0px 80px #00c5cc;
    }

    .notif {
        background-color: #fff;
        padding: 10px 40px;
        position: absolute;
        right: 10px;
        top: 70px;
        display: flex;
        min-width: 300px;
        box-shadow: 0 5px 10px #00000050;
        font-size: 15px;
        border-left: 10px solid #3232fa;
        color: #3232fa;
        border-radius: 4px;
        overflow: hidden;
        z-index: 10000000;
        opacity: 0;
    }

    .msg {
        margin-right: 20px;
    }

    .hidenotif {
        animation: notif_slideout 0.3s linear forwards;
    }

    .shownotif {
        /* display: flex; */
        opacity: 1;
        animation: notif_slidein 0.5s linear forwards;
    }

    @keyframes notif_slidein {
        0% {
            opacity: 1;
            transform: translateX(100px);
        }

        60% {
            transform: translateX(-20px);
        }

        90% {
            transform: translateX(20px);
        }

        100% {
            transform: translateX(0);
        }
    }

    @keyframes notif_slideout {
        0% {
            opacity: 1;
            transform: translateX(0);
        }

        60% {
            opacity: 1;
            transform: translateX(-20px);
        }

        90% {
            opacity: 1;
            transform: translateX(20px);
        }

        100% {
            opacity: 0;
            transform: translateX(100px);
        }
    }

    .notifsuccess {
        border-left: 10px solid #3232fa;
        color: #3232fa;
    }

    .notiferror {
        border-left: 10px solid #fa3232;
        color: #fa3232;
    }

    .fa-xmark.error {
        background-color: #fa323240;
    }

    .fa-xmark.success {
        background-color: #3232fa40;
    }
</style>
<div id="notif" class="notif notifsuccess">
    <i class="fa-solid fa-circle-exclamation"
        style="position: absolute;top: 0;left: 20px;transform: translate(-50%);width:20px;height: 100%;"></i>
    <div id="notifMsg" class="msg" style="color: #000;">Berhasil Menambah Nilai</div>
    <i id="btnclosenotif" onclick="closenotif()" class="fa-solid fa-xmark success"
        style="cursor: pointer; box-shadow: -2px 0 4px #00000050;padding: 0 15px; position: absolute;top: 0;right: -30px;transform: translate(-50%);width:20px;height: 100%;"></i>
</div>
<div class="container">
    <h1>Nilai Matematika Kelas 1</h1>
    <div class="ctrl" style="display: flex;gap: 3rem;">
        <div class="pilihMinggu" id="pilihMinggu"
            style="height: 5rem;display: flex;align-items: center;padding: 1rem;gap: 15px;">
            <b>Mingggu Ke :</b>
            <button id="mng1" class="btn btn-danger btnplhActive" style="background-color: #02969c;border:none;"
                onclick="plhWeek('1')">1</button>
            <button id="mng2" class="btn btn-danger btnplhActive" style="background-color: #01b5bb;border:none;"
                onclick="plhWeek('2')">2</button>
            <button id="mng3" class="btn btn-danger btnplhActive" style="background-color: #00c5cc;border:none;"
                onclick="plhWeek('3')">3</button>
            <button id="mng4" class="btn btn-danger btnplhActive" style="background-color: #00dbe2;border:none;"
                onclick="plhWeek('4')">4</button>
        </div>
        <div class="pilihBulan" id="pilihBulan"
            style="height: 5rem;display: flex;align-items: center;padding: 1rem;gap: 15px;">
            <b>Bulan Ke :</b>
            <button id="bln1" class="btn btn-danger btnplhActive" style="background-color: #700d0d;border:none;"
                onclick="plhBln('1')">1</button>
            <button id="bln2" class="btn btn-danger btnplhActive" style="background-color: #921212;border:none;"
                onclick="plhBln('2')">2</button>
            <button id="bln3" class="btn btn-danger btnplhActive" style="background-color: #ad1414;border:none;"
                onclick="plhBln('3')">3</button>
            <button id="bln4" class="btn btn-danger btnplhActive" style="background-color: #c51e1e;border:none;"
                onclick="plhBln('4')">4</button>
            <button id="bln5" class="btn btn-danger btnplhActive" style="background-color: #d12d2d;border:none;"
                onclick="plhBln('5')">5</button>
            <button id="bln6" class="btn btn-danger btnplhActive" style="background-color: #dd3d3d;border:none;"
                onclick="plhBln('6')">6</button>
        </div>
    </div>
    <div class="container"
        style="margin-top: 10px;margin-bottom: 10px; display: none;grid-template-columns: 10% 90%;gap: 2px; height: 2.3rem;justify-content: center;align-items: center;">
        <label for="tanggal" class="form-label"><b>Tanggal</b></label>
        <input type="date" class="form-control" id="tanggal"
            style="border: #14213d solid 1px;color: #14213d; font-size: 20px;border-radius: 5px;">
    </div>
    <div class="container d-flex gap-3">
        <label for="jenisPenilaian" style="width: 20%;" class="form-label"><b>Penilaian Akademik :</b></label><br>
        <select name="jenisPenilaian" id="jenisPenilaian" style="width: 80%;height: 2rem;border-radius: 5px;">
            <option value="" selected>Pilih Option</option>
            <option value="Tugas">Tugas</option>
            <option value="Pekerjaan Rumah">Pekerjaan Rumah</option>
            <option value="Ulangan Harian">Ulangan Harian</option>
            <option value="Ujian Tengah Semester">Ujian Tengah Semester</option>
        </select>
    </div>
    <!-- <div class="container searchFeature col-md-5 m-2" style="width: 100%;position: relative;height: 2.5rem;" > -->
    <!-- <label for="filter"><i class="fa-solid fa-magnifying-glass" style="color: #000;z-index: 99;"></i></label> -->
    <!-- <input id="filter" type="text" style="width: 40%;position: absolute;right: 2%;border-radius: 5px;" placeholder="Search..." > -->
    <!-- </div> -->
    <div class="container" id="kelas" style="margin-top: 20px;">


        <button class="btn btn-primary btn-sm"
            style="border-radius: 5px;width: 70px;height: 30px;font-size: 15px;box-shadow: 0 4px 8px #000000;padding: 2px;"
            onclick="synclstoapi()"><i class="fa-solid fa-arrows-spin"></i>SYNC</button><br>
        <hr>


        <table id="tabelsiswa" class="table table-striped table-bordered"
            style="background-color: #fff;text-align: center;">
            <thead>
                <tr>
                    <th scope="col" style="text-align: center; width: 5%;">#</th>
                    <th scope="col" style="text-align: center; width: 15%;">nisn</th>
                    <th scope="col" style="text-align: center; width: 30%;">nama</th>
                    <th scope="col" style="text-align: center; width: 10%;">kelas</th>
                    <th scope="col" style="text-align: center; width: 30%;">aksi</th>
                </tr>
            </thead>
            <tbody id="dataSiswa">

            </tbody>
        </table>
    </div>

    <div class="container">
        <div class="formNilai" id="formNilai"
            style="position: absolute;top: 50%;left: 50%;transform: translate(-50%,-50%);  display: none; padding: 15px;border-radius: 5px;margin-top: 10px;">
            <form action="">
                <div class="tanggal">
                    <div id="titletambah" class="title-form">Penilaian Hari Ini</div>
                    <div class="mb-3">
                        <input type="date" class="form-control" id="tanggal" style="display:none;">
                    </div>
                </div>
                <div class="mb-3">
                    <b id="namasiswainform">Nama Siswa : </b><br>
                    <b id="nisntext">Nisn : </b>
                    <input type="number" style="display: none;" id="nisnform">
                </div>
                <!-- formtambah -->
                <div class="mb-3" id="formtambahnilai">
                    <label for="jenisPenilaian" class="form-label"><b>Penilaian Akademik :</b></label>
                    <select name="jenisPenilaian" id="jenisPenilaianForm" style="height: 2rem;border-radius: 5px;" required>
                        <option value="" selected>Pilih Option</option>
                        <option value="Tugas">Tugas</option>
                        <option value="Pekerjaan Rumah">Pekerjaan Rumah</option>
                        <option value="Ulangan Harian">Ulangan Harian</option>
                        <option value="Ujian Tengah Semester">Ujian Tengah Semester</option>
                    </select>
                    <label for="nilaiAkademik" class="form-label "><b>Nilai :</b></label>
                    <input type="number" id="nilaiAkademik" style="border-radius: 5px;" placeholder="0-100" max="100" required>
                    <label for="Kehadiran" class="form-label"><b>Kehadiran :</b></label>
                    <select name="kehadiran" id="Kehadiran">
                        <option value="hadir" selected>Hadir</option>
                        <option value="A">A</option>
                        <option value="S">S</option>
                        <option value="I">I</option>
                    </select>
                    <label for="sikap" class="form-label"><b>Sikap dan Perilaku :</b></label>
                    <input type="number" id="sikap" max="100" placeholder="0-100" required>
                    <label for="noteGuru" class="form-label"><b>Note Guru</b></label>
                    <textarea id="noteGuru" rows="2"></textarea>
                </div>

                <div id="actionbtnsave" class="action" style="display: flex;justify-content: space-between;">
                    <button type="button" class="btn btn-tech" onclick="hideForm()">Cancel</button>
                    <button id="btninsert" type="button" class="btn btn-tech">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal fade" id="modalnilai" tabindex="-1" aria-labelledby="modalnilai" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="titlenilaimodal">Nilai </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body table-responsive">
                <div class="bg-light">
                    <div id="btnlihatnilaiakumulasi">

                    </div>
                    <table id="tablenilaisiswa" class=" table table-striped table-bordered" style="width: 100%;">
                        <thead>
                            <tr>
                                <th style="max-width: 2%;">#</th>
                                <th style="max-width: 1%;">id</th>
                                <th style="max-width: 10%;">Jenis Penilaian</th>
                                <th style="max-width: 5%;">Nilai Akademik</th>
                                <th style="max-width: 2%;">Kehadiran</th>
                                <th style="max-width: 5%;">Nilai Sikap</th>
                                <th style="max-width: 30%;">Catatan</th>
                                <th style="max-width: 30%;">aksi</th>
                            </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>
                    <table class="table table-responsive table-striped table-bordered">
                        <thead>
                            <H1>RATA-RATA</H1>
                            <tr>
                                <th colspan="1">Jenis Penilaian</th>
                                <th colspan="1">Rata-rata</th>
                                <th colspan="1">Nilai</th>
                            </tr>
                        </thead>
                        <tbody id="meantbnilaiharian">

                        </tbody>
                        <tfoot>
                            <tr id="btnuploadmingguan">

                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modalnilaiakumulasi" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="modalnilai" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="titlenilaiakumulasimodal">Nilai </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" style="z-index: 1000;"
                    onclick="cleartblakumulasinilai()" aria-label="Close"></button>
            </div>
            <div class="modal-body table-responsive">
                <div class="bg-light">
                    <table id="tabelnilai" class=" table table-striped table-bordered" style="width: 100%;">
                        <thead>
                            <tr>
                                <th colspan="1">Data Ke</th>
                                <th colspan="1">Jenis Penilaian</th>
                                <th colspan="1">Nilai</th>
                            </tr>
                        </thead>
                        <tbody id="nilaitabelakumulasi">

                        </tbody>
                        <tfoot>
                            <tr id="">

                            </tr>
                        </tfoot>
                    </table>
                    <table id="tableakumulainilaisiswa" class=" table table-striped table-bordered"
                        style="width: 100%;">
                        <H1>RATA-RATA</H1>
                        <thead>
                            <tr>
                                <th colspan="1">Jenis Penilaian</th>
                                <th colspan="1">Rata-rata</th>
                                <th colspan="1">Nilai</th>
                            </tr>
                        </thead>
                        <tbody id="isitableakumulainilaisiswa">

                        </tbody>
                        <tfoot>
                            <tr id="btnuploadakumulasinilai">

                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                    onclick="cleartblakumulasinilai()">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modaledit" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="titlemodaledit">Edit Nilai</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="form-group col-md-12">
                        <input type="text" id="editnisn" style="display: none;" readonly>
                        <label>Jenis Penilaian</label>
                        <select id="editjenisPenilaian" class="form-control" style="font-size: 20px;" required>
                            <option value="" selected>Pilih Option</option>
                            <option value="Tugas">Tugas</option>
                            <option value="Ulangan Harian">Ulangan Harian</option>
                            <option value="Ujian Tengah Semester">Ujian Tengah Semester</option>
                            <option value="Ujian Akhir Semester">Ujian Akhir Semester</option>
                        </select>
                    </div>
                    <div class="form-group col-md-12">
                        <label>Nilai</label><input type="number" class="form-control" id="editnilaiAkademik"
                            style="font-size: 20px;" max="100" required>
                    </div>
                    <div class="form-group col-md-12">
                        <label>Kehadiran</label>
                        <select id="editkehadiran" class="form-control" style="font-size: 20px;" required>
                            <option value="hadir" selected>Hadir</option>
                            <option value="A">A</option>
                            <option value="S">S</option>
                            <option value="I">I</option>
                        </select>
                    </div>
                    <div class="form-group col-md-12">
                        <label>Sikap</label><input type="number" class="form-control" id="editsikap"
                            style="font-size: 20px;" max="100" required>
                    </div>
                    <div class="form-group col-md-12">
                        <label>Catatan</label><textarea name="" class="form-control" style="font-size: 20px;"
                            id="editnoteGuru" rows="2"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer" id="btnupdate">
            </div>
        </div>
    </div>
</div>

<script>
    if (typeof Smstr === 'undefined') {
        let Smstr = 1;
        let month;
        let mingguKe;
        let currentDate ;
        let tahunajaran ;
        let kodeGuru ;
        let mataPelajaran ;
        let kelas ;
    }
    currentDate = new Date()
        tahunajaran = currentDate.getFullYear();
        kodeGuru = 111
        mataPelajaran = "MATEMATIKA"
        kelas = "i";
</script>
<script src="assets/scriptnilai.js"></script>